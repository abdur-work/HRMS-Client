<div class="main-page">
  <ul class="nav nav-tabs p-3" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="company-tab" data-bs-toggle="tab" href="#company" role="tab"
        aria-controls="company" aria-selected="true">Company Announcements</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="team-tab" data-bs-toggle="tab" href="#team" role="tab" aria-controls="team"
        aria-selected="false">Team Announcements</a>
    </li>
  </ul>

  <div class="tab-content bg-white p-3">
    <div class="tab-pane fade show active " id="company" role="tabpanel" aria-labelledby="company-tab">
   
      <div class="input-group">
        <label class="label-input mb-2">Search Event</label>
        <input type="search" class="search-input mb-3" placeholder="e.g. Search by event title"
          aria-label="Search By Event Title" [(ngModel)]="searchQuery" />
      </div>
      <table>
        <tbody>
          <tr *ngFor="let announce of getCompanyAnnouncement | filterByTitle: searchQuery ; let i = index">
            <td style="width: 25%;">
              <div class="d-flex gap-3 align-items-center mb-3">
                <img *ngIf="!createImgPath(announce.featurePhoto)" class="image-profile"
                  [src]="createImgPath(announce.featurePhoto)" height="35" width="35" />
                <img *ngIf="createImgPath(announce.featurePhoto)" class="image-profile"
                  src="../../../../assets/images/user-icon.png" height="35" width="35" alt="">
                <div class="d-flex flex-column gap-1">
                  <span class="eve-title">{{ announce.eventTitle }}</span>
                  <span>{{ announce.eventDate | date }} | {{ announce.eventTime }}</span>
                </div>
              </div>
            </td>
            <td style="width: 60%;">
              <div class="event-description" [innerHTML]="announce.description | slice:0:300"></div>
            </td>
          </tr>
        </tbody>
      </table>
  </div>
    

  <div class="tab-pane fade " id="team" role="tabpanel" aria-labelledby="team-tab">
    <div class="d-flex justify-content-between w-100">
      <div #addCompanyAnnouncementContainer></div>
      <div class="w-100 d-flex justify-content-end">
      <div role="button" *ngIf="isAddAnnouncement"
        class="save-btn px-4 d-flex align-items-center justify-content-center" style="width: 290px !important;" (click)="addAnnouncementPopoup('')">
        Add Team Announcement
      </div>
      </div>
    </div>
      <div class="input-group">
        <label class="label-input mb-2">Search Event</label>
        <input type="search" class="search-input mb-3" placeholder="e.g. Search by event title"
          aria-label="Search By Event Title" />
      </div>
    <table>
      <tbody>
        <tr *ngFor="let announce of getTeamAnnouncement ; let i = index">
          <td style="width: 25%;">
            <div class="d-flex gap-3 align-items-center mb-3">
              <img *ngIf="!createImgPath(announce.featurePhoto)" class="image-profile"
                [src]="createImgPath(announce.featurePhoto)" height="35" width="35" />
              <img *ngIf="createImgPath(announce.featurePhoto)" class="image-profile"
                src="../../../../assets/images/user-icon.png" height="35" width="35" alt="">
              <div class="d-flex flex-column gap-1">
                <span class="eve-title">{{ announce.eventTitle }}</span>
                <span>{{ announce.eventDate | date }} | {{ announce.eventTime }}</span>
              </div>
            </div>
          </td>
          <td style="width: 60%;">
            <div class="event-description" [innerHTML]="announce.description | slice:0:300"></div>
          </td>
          <td>
            <div class="d-flex flex-row gap-3 btn-groupn align-items-center justify-content-center">
              <button class="btn btn-link p-0 dropdown-toggle d-flex" type="button" id="optionsPopover"
                data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fa fa-light fa-ellipsis-vertical" style="color: #222222;"></i>
              </button>
              <div class="dropdown-menu" style="padding: 10px;" aria-labelledby="optionsPopover">
                <span class="popup_box dropdown-item" (click)="addAnnouncementPopoup(announce)">
                  <i class="fa-regular fa-pen-to-square" style="color: #000000;"></i>
                  Edit
                </span>
                <span class="popup_box dropdown-item"
                (click)="deleteCompanyAnnouncementPopup(announce.companyAnnouncementID)">
                  <i class="fa-solid fa-trash" style="color: #000000;"></i>
                  Delete
                </span>
              </div>
            </div>
          </td>
        </tr>
      </tbody>

    </table>
  </div>
 </div>
</div>